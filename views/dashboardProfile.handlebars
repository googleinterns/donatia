<script
  async
  defer
  src="https://maps.googleapis.com/maps/api/js?key={{MAPS_KEY}}&libraries=places&callback=initAutocomplete"
></script>
<script>
  /*
   * This JavaScript was included inline to ensure the initAutocomplete
   * function is available as soon as the Maps API script above loads.
   * Adds Google Maps Places autocomplete to address input.
   */
  function initAutocomplete() {
    const autocomplete = new google.maps.places.Autocomplete(document.getElementById('address'));
    autocomplete.setFields(['place_id', 'geometry', 'name']);
    autocomplete.addListener('place_changed', function () {
      const place = autocomplete.getPlace();
      if (!place.place_id) return;
      document.getElementById('addressID').value = place.place_id;
    });
  }
</script>
<script src="/static/js/dashboardInfoForm.js"></script>

<form id="org-info-form" method="post">
  <div id="form-container">
    <label for="name">Name</label><br />
    <input disabled required type="text" id="name" name="name" /><br />

    <label for="description">Description</label><br />
    <input disabled required type="text" id="description" name="description" />
    <br />

    <label for="address">Address</label><br />
    <input disabled required type="text" id="address" name="address" /><br />
    <input type="hidden" id="addressID" name="addressID" />

    <label for="phone">Phone</label><br />
    <input disabled type="number" id="phone" name="phone" /><br />

    <label for="website">Website</label><br />
    <input disabled type="url" id="website" name="website" /><br />

    <label for="email">Email</label><br />
    <input disabled required type="email" id="email" name="email" /><br />

    <input disabled type="checkbox" id="acceptsDropOff" name="acceptsDropOff" />
    <label for="acceptsDropOff">Accepts drop off donations</label><br />

    <input disabled type="checkbox" id="acceptsPickUp" name="acceptsPickUp" />
    <label for="acceptsPickUp">Available to pick up donations</label><br />

    <input disabled type="checkbox" id="acceptsShipping" name="acceptsShipping" />
    <label for="acceptsShipping">Accepts shipped donations</label><br />
  </div>
  {{#if editable}}
  <button>Submit</button>
  {{/if}}
</form>

{{#unless editable}}
<a href="/dashboard/edit">
  <button>Edit</button>
</a>
{{/unless}}

<script>
  if ({{editable}}) {
    let inputList = document.getElementsByTagName("input");
    for (let item of inputList) {
      item.removeAttribute("disabled");
    }
  }
</script>
